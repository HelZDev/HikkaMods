from hikkatl import loader, utils
import os

class UnitNeo(loader.Module):
    """–û—Ç–ø—Ä–∞–≤–∫–∞ –º–æ–¥—É–ª–µ–π —Ñ–∞–π–ª–æ–º –∏ —Å—Å—ã–ª–∫–æ–π"""
    strings = {"name": "UnitNeo"}

    async def neocmd(self, message):
        """–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –º–æ–¥—É–ª—å —Ñ–∞–π–ª–æ–º –∏ —Å—Å—ã–ª–∫–æ–π"""
        args = utils.get_args_raw(message)
        if not args:
            await message.edit("<b>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:</b> .sendmod <–∏–º—è_–º–æ–¥—É–ª—è>")
            return
        
        module_name = args if args.endswith(".py") else f"{args}.py"
        module_path = f"modules/{module_name}"
        

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Ñ–∞–π–ª –ª–æ–∫–∞–ª—å–Ω–æ
        if os.path.exists(module_path):
            await message.client.send_file(message.chat_id, module_path, caption=f"üåê <b>–ú–æ–¥—É–ª—å {module_name}</b>\nüåò <code>$dlm {download_link}</code>")
        else:
            await message.edit(f"‚ö†Ô∏è –ú–æ–¥—É–ª—å <b>{module_name}</b> –Ω–µ –Ω–∞–π–¥–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ.\nüåê –°—Å—ã–ª–∫–∞: {download_link}")
